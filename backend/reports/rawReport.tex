\DocumentMetadata{
  pdfstandard=ua-2,
  lang=en
}

\documentclass[11pt]{article}
\renewcommand{\familydefault}{\sfdefault}

\newcommand{\textcomma}{,}

\usepackage[margin=1in]{geometry}

\usepackage[table]{xcolor} 
\definecolor{maroon}{HTML}{500000}
\definecolor{gray100}{HTML}{f6f6f6}
\definecolor{gray200}{HTML}{eaeaea} 

\usepackage{tabularx}

\usepackage{float}

\usepackage{longtable}
\usepackage{xltabular} % works with LuaLaTeX and pdfLaTeX

\usepackage{array}
\renewcommand{\arraystretch}{1.5}

\usepackage{pgfplots}
\pgfplotsset{compat=1.18}

% Count items helper
\newcommand{\countitems}[1]{%
  \pgfmathsetmacro{\nitems}{0}%
  \foreach \x in {#1}{%
    \pgfmathparse{\nitems+1}%
    \global\let\nitems=\pgfmathresult%
  }%
  \pgfmathtruncatemacro{\nitems}{\nitems}%
}

% Bar chart macro
\newcommand{\barchart}[3]{%
  \countitems{#1}%
  \centering
  \begin{tikzpicture}
    \begin{axis}[
      scale only axis,
      width=\linewidth,
      height=0.15*\linewidth,
      ybar,
      bar width=12pt,
      tick style={draw=none},
      xmin=-0.5, xmax=\nitems-0.5,
      ymin=0,
      axis x line=bottom,
      axis line style={-},
      axis y line=none,
      xtick={0,...,\nitems-1},
      xticklabels={#1},
      xtick=data,
      xtick align=center,
      x tick label style={
        text width=\dimexpr\textwidth/(\nitems+1)\relax,
        align=center,
        font=\small
      },
      nodes near coords,
      every node near coord/.append style={
        font=\small,
        anchor=south,
        yshift=2pt
      },
      nodes near coords align=vertical,
    ]
      \def\coords{}%
      \foreach [count=\i from 0] \v in {#2}{%
        \xdef\coords{\coords (\i,\v)}%
      }%
      \addplot[fill=maroon] coordinates {\coords};
    \end{axis}
    \node[anchor=north east, font=\small, yshift=25pt] 
      at (current bounding box.north east) {#3 Responses};
  \end{tikzpicture}
}

\usepackage{hyperref}
\tagpdfsetup{
  activate-all,
  interwordspace=true
}
\hypersetup{
  pdftitle={Raw Data Report}
}

\usepackage{titlesec}
\titleformat{\subsection}[block]{\fontsize{14pt}{16pt}\bfseries\color{maroon}}{}{0pt}{} % Header 2

\begin{document}

\input{components/device.tex}

\input{components/hours.tex}

\input{components/attendance.tex}

\input{components/engaging.tex}

\input{components/recording.tex}

\input{components/absence-reason.tex}

\input{components/grade.tex}

\input{components/likert.tex}

\input{components/component.tex}

\input{components/rationale-1.tex}

\input{components/improvements.tex}

\input{components/rationale-2.tex}

\end{document}